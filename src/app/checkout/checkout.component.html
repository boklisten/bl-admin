<div class="modal-header justify-content-end" *ngIf="step.showHeader">
	<button class="btn btn-outline-danger" (click)="onDismiss()">
		<fa-icon icon="times"></fa-icon>
	</button>
</div>

<div class="modal-body" *ngIf="order && step.name === 'summary'">
	<app-customer-detail-small
		(valid)="onCustomerDetailValid($event)"
	></app-customer-detail-small>
	<app-order-item-detail-list
		[orderItems]="order.orderItems"
	></app-order-item-detail-list>
	<app-order-payment-information
		[order]="order"
	></app-order-payment-information>
</div>

<div class="modal-body" *ngIf="step.name === 'payment'">
	<app-payment
		[order]="order"
		(paymentComplete)="onPaymentConfirmed()"
		(paymentFailure)="onPaymentFailure()"
	></app-payment>
</div>

<div class="modal-body" *ngIf="step.name === 'delivery'">
	<app-delivery-detail [deliveryId]="order.delivery"></app-delivery-detail>
</div>

<div
	class="modal-body text-center bg-warning"
	*ngIf="step.name === 'processing'"
>
	<div class="d-flex align-items-center justify-content-center p-5">
		<fa-icon icon="receipt" class="mr-2"></fa-icon>
		<strong>---</strong>
		<fa-icon
			[icon]="'circle-notch'"
			[spin]="true"
			size="3x"
			class="mr-2 ml-2"
		></fa-icon>
		<strong>---</strong>
		<fa-icon icon="database" class="ml-2"></fa-icon>
	</div>
	<div class="mt-3">
		<strong i18n="@@checkoutProcessingOrder">Processing order...</strong>
	</div>
</div>

<div class="modal-body text-center bg-warning" *ngIf="step.name === 'loading'">
	<div class="d-flex align-items-center justify-content-center p-5">
		<fa-icon
			[icon]="'circle-notch'"
			[spin]="true"
			size="3x"
			class="mr-2 ml-2"
		></fa-icon>
	</div>
	<div class="mt-3">
		<strong i18n="@@checkoutCreatingOrder">Creating order...</strong>
	</div>
</div>

<div class="modal-body text-center bg-danger" *ngIf="step.name === 'error'">
	<div class="d-flex align-items-center justify-content-center p-5">
		<fa-icon
			[icon]="'exclamation-triangle'"
			size="3x"
			class="mr-2 ml-2"
		></fa-icon>
	</div>
	<div class="mt-3">
		<strong i18n="@@checkoutErrorCreatingOrder"
			>There was an error creating the order. Please Try again.</strong
		>
	</div>
	<div class="mt-1 mb-5">
		<small>{{ checkoutError | json }}</small>
	</div>
</div>

<div
	class="modal-body text-center bg-success text-white"
	*ngIf="step.name === 'done'"
>
	<div>
		<fa-icon
			[icon]="'check-circle'"
			class="mt-5 mb-5"
			[size]="'9x'"
		></fa-icon>
	</div>
	<div i18n="@@checkoutOrderConfirmed">Order was confirmed!</div>
</div>

<div class="modal-footer" *ngIf="step.showConfirmButton">
	<button
		class="btn btn-success btn-block"
		[disabled]="!step.valid"
		(click)="onNext()"
		i18n="@@checkoutConfirmButton"
	>
		Confirm
	</button>
</div>
